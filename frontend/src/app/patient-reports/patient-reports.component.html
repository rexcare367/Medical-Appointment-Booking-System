<app-navigation-patient></app-navigation-patient>

<legend class="text-center">Moji izveštaji</legend>

<div class="table-responsive-sm m-2">
    <table id="tableReports" class="table table-light table-bordered border-2">
        <thead>
        <tr>
            <th>#</th>
            <th>Lekar</th>
            <th>Pregled</th>
            <th>Razlog</th>
            <th>Odlazak</th>
            <th>Izveštaj</th>
            <th>Analiza</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let report of reports;  let i = index">
            <td>{{i + 1}}</td>
            <td>{{report.appointment[0].doctorId}}</td>
            <td>{{report.appointment[0].appointmentType}}</td>
            <td>{{report.appointment[0].reason}}</td>
            <td>
                {{toLocalDate(report.appointment[0].date)}}
                <br>
                {{toLocaleTimeString(report.appointment[0].date)}}
            </td>
            <td>
                {{toLocalDate(report.date)}}
                <br>
                {{toLocaleTimeString(report.date)}}
            </td>
            <td>{{report.description}}</td>
        </tr>
        </tbody>
    </table>
</div>

<!-- button dark toPdf() -->
<button class="btn btn-dark m-2" (click)="toPdf()">Preuzmi izveštaje</button>

<legend class="text-center">Moji pregledi</legend>

<div class="table-responsive-sm m-2">
    <table class="table table-light table-bordered border-2">
        <thead>
        <tr>
            <th>#</th>
            <th>Vrsta</th>
            <th>Lekar</th>
            <th>Razlog</th>
            <th>Datum</th>
            <th>Otkazan</th>
            <th>Akcija</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let appointment of appointments;  let i = index">
            <td>{{i + 1}}</td>
            <td>{{appointment.appointmentType}}</td>
            <td>{{appointment.doctorId}}</td>
            <td>{{appointment.reason}}</td>
            <td>{{toLocalDate(appointment.date)}}</td>
            <td *ngIf="appointment.canceled" class="table-danger">Da</td>
            <td *ngIf="!appointment.canceled" class="table-success">Ne</td>
            <td>
                <div class="d-grid">
                    <button (click)="cancelAppointment(appointment)" class="btn btn-secondary  btn-sm"
                            type="button">Otkaži
                    </button>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>




